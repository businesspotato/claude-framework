{
  "name": "planning-checklist",
  "description": "Validate task complexity and planning requirements before starting work",
  "prompt": "Perform comprehensive planning phase validation before starting work:\n\n**Usage**: `/planning-checklist [task-description]`\n\n**Purpose**: Analyze task complexity and determine if planning phase with subagents and Zen MCP is required\n\n**Validation Steps**:\n\n1. **Analyze Task Description**:\n   - Extract key requirements and scope\n   - Identify technical components involved\n   - Determine impact scope (files, services, systems)\n\n2. **Check Complexity Indicators**:\n   ```\n   Multi-file changes (>3 files)                     [YES/NO]\n   Multi-service integration                         [YES/NO]\n   Database schema changes/migrations                [YES/NO]\n   Performance requirements (>1000 ops/sec)          [YES/NO]\n   Architectural decisions required                  [YES/NO]\n   Algorithm complexity (non-trivial logic)          [YES/NO]\n   Scalability planning needed                       [YES/NO]\n   ```\n\n3. **Determine Phase Requirements**:\n   \n   **Simple Task** (0-1 complexity indicators):\n   - Proceed with direct implementation\n   - No planning phase required\n   - No subagent orchestration needed\n   \n   **Medium Task** (2 complexity indicators):\n   - Consider lightweight planning\n   - Optional: Single subagent for guidance\n   - Document approach before implementing\n   \n   **Complex Task** (3+ complexity indicators):\n   - MANDATORY planning phase required\n   - Zen MCP brainstorming session required\n   - Subagent orchestration required\n   - Full Sequential Orchestration Framework applies\n\n4. **Identify Required Subagents**:\n   Based on task domain, select from available subagents:\n   \n   **Planning Phase Subagents**:\n   - `backend-designer` â†’ System architecture, microservices, scalability\n   - `api-designer` â†’ REST/GraphQL design, endpoint contracts\n   - `database-admin` â†’ Schema design, migrations, optimization\n   - `jenny` â†’ Requirements validation, spec compliance\n   \n   **Development Phase Subagents**:\n   - Context-specific agents (e.g., electron-pro, ai-engineer)\n   - `ui-comprehensive-tester` â†’ Test coverage planning\n   - `code-quality-pragmatist` â†’ Anti-pattern prevention\n   \n   **Debugging Phase Subagents**:\n   - `ultrathink-debugger` â†’ Complex debugging, root cause analysis\n   - `code-reviewer` â†’ Security, quality issues\n   \n   **Verification Phase Subagents**:\n   - `task-completion-validator` â†’ Feature validation\n   - `karen` â†’ Reality check, honest assessment\n   - `jenny` â†’ Requirements compliance\n\n5. **Zen MCP Analysis Requirements**:\n   \n   **Required When**:\n   - Multi-service integration detected\n   - Database migration strategy needed\n   - Architectural decision with trade-offs\n   - Performance optimization planning\n   - Complex algorithmic challenges\n   \n   **Recommended Model**:\n   - o3-mini â†’ Standard planning (fastest, cost-effective)\n   - o3 â†’ Complex architectural decisions\n   - gpt-5-mini â†’ Quick collaborative analysis\n   - o3-pro â†’ Critical system design (expensive, deep analysis)\n   \n   **Zen MCP Functions**:\n   - `mcp__zen__planner` â†’ Multi-step planning with revision\n   - `mcp__zen__chat` â†’ Collaborative brainstorming\n   - `mcp__zen__consensus` â†’ Multi-model debate for decisions\n   - `mcp__zen__thinkdeep` â†’ Deep investigation\n   - `mcp__zen__debug` â†’ Systematic troubleshooting\n\n**Output Format**:\n\n```\nğŸ“‹ Planning Checklist Report\n============================\n\nTask: \"[Task description]\"\n\nâœ… Complexity Analysis:\n   â€¢ Multi-file changes: [YES/NO] ([X] files)\n   â€¢ Multi-service integration: [YES/NO] ([Systems/services])\n   â€¢ Database changes: [YES/NO] ([Details])\n   â€¢ Performance requirements: [YES/NO] ([Requirements])\n   â€¢ Architectural decisions: [YES/NO] ([Decisions])\n   â€¢ Algorithmic complexity: [YES/NO] ([Details])\n   â€¢ Scalability planning: [YES/NO] ([Requirements])\n\nğŸ“Š Complexity Score: [X]/7 â†’ [SIMPLE/MEDIUM/COMPLEX]\n\nâš ï¸  Planning Phase: [OPTIONAL/RECOMMENDED/REQUIRED]\n\nğŸ”§ Zen MCP Requirement:\n   Status: [NOT NEEDED / RECOMMENDED / REQUIRED]\n   Model: [o3-mini / o3 / gpt-5-mini]\n   Function: [mcp__zen__planner / mcp__zen__chat / etc.]\n   Purpose: [Brief description]\n\nğŸ¤– Required Subagents:\n   Phase: PLANNING\n   1. [subagent-name] â†’ [Purpose]\n   2. [subagent-name] â†’ [Purpose]\n   \n   Phase: DEVELOPMENT\n   1. [subagent-name] â†’ [Purpose]\n   \n   Phase: VERIFICATION\n   1. [subagent-name] â†’ [Purpose]\n\nğŸ“Œ Next Steps:\n   âœ… Step 1: [Action required]\n   âœ… Step 2: [Action required]\n   âœ… Step 3: [Action required]\n   \nğŸ”— References:\n   - CLAUDE.md: Automatic Subagent Orchestration\n   - CLAUDE.md: Zen MCP Planning Integration\n   - claude-framework/docs/multiagent.md\n```\n\n**Example 1: Simple Task**\n```\nğŸ“‹ Planning Checklist Report\n\nTask: \"Add logging to getUserProfile method\"\n\nâœ… Complexity Analysis:\n   â€¢ Multi-file changes: NO (1 file)\n   â€¢ Multi-service integration: NO\n   â€¢ Database changes: NO\n   â€¢ Performance requirements: NO\n   â€¢ Architectural decisions: NO\n   â€¢ Algorithmic complexity: NO\n   â€¢ Scalability planning: NO\n\nğŸ“Š Complexity Score: 0/7 â†’ SIMPLE\n\nâš ï¸  Planning Phase: OPTIONAL\n\nğŸ”§ Zen MCP Requirement:\n   Status: NOT NEEDED\n   \nğŸ¤– Required Subagents:\n   None - Direct implementation appropriate\n\nğŸ“Œ Next Steps:\n   âœ… Add logging statements to method\n   âœ… Test locally\n   âœ… Commit changes\n```\n\n**Example 2: Complex Task**\n```\nğŸ“‹ Planning Checklist Report\n\nTask: \"Migrate user authentication system from sessions to JWT tokens\"\n\nâœ… Complexity Analysis:\n   â€¢ Multi-file changes: YES (8+ files)\n   â€¢ Multi-service integration: YES (Auth, API Gateway, User Service)\n   â€¢ Database changes: YES (Add token storage, migrate sessions)\n   â€¢ Performance requirements: NO\n   â€¢ Architectural decisions: YES (Token refresh strategy, storage approach)\n   â€¢ Algorithmic complexity: NO\n   â€¢ Scalability planning: YES (Token invalidation at scale)\n\nğŸ“Š Complexity Score: 5/7 â†’ COMPLEX\n\nâš ï¸  Planning Phase: REQUIRED âš ï¸\n\nğŸ”§ Zen MCP Requirement:\n   Status: REQUIRED\n   Model: o3-mini (collaborative analysis)\n   Function: mcp__zen__chat\n   Purpose: Authentication migration strategy and security analysis\n\nğŸ¤– Required Subagents:\n   Phase: PLANNING\n   1. backend-designer â†’ Multi-service authentication architecture\n   2. database-admin â†’ Token storage and session migration strategy\n   3. jenny â†’ Verify solution meets security requirements\n   \n   Phase: DEVELOPMENT\n   1. code-quality-pragmatist â†’ Review for security anti-patterns\n   2. database-admin â†’ Implement migration scripts\n   \n   Phase: VERIFICATION\n   1. task-completion-validator â†’ Verify all services updated\n   2. karen â†’ Reality check - authentication actually works?\n   3. code-reviewer â†’ Security audit\n\nğŸ“Œ Next Steps:\n   âœ… Launch Zen MCP session for migration strategy analysis\n   âœ… Invoke backend-designer for architecture design\n   âœ… Invoke database-admin for migration approach\n   âœ… Document security decisions and rationale\n   âœ… Create implementation plan\n   âœ… Proceed to development phase ONLY after planning complete\n   \nğŸš« DO NOT:\n   âŒ Start implementation without planning\n   âŒ Skip Zen MCP security analysis\n   âŒ Skip subagent orchestration\n   âŒ Make authentication decisions without review\n```\n\n**Enforcement**:\n- Run this command BEFORE starting any non-trivial work\n- If COMPLEX task detected, MUST follow recommendations\n- Violations will be caught by `/planning-audit` command\n- CLAUDE.md rule compliance required\n\n**Integration**:\n- Use with `/planning-auto-invoke` for automated workflow\n- Use with `/planning-audit` for post-work compliance validation\n- Part of Sequential Orchestration Framework\n\nSee: claude-framework/docs/multiagent.md for complete workflow documentation"
}
